#!/usr/bin/env node

var fs = require('fs'),
	path = require('path'),
	Optimum = require('../lib/Optimum');

var opt = new Optimum();

opt.on('resource', function(relPath, content) {
	//console.log('resource %s\n%s', relPath, content);
	fs.writeFileSync(opt.options.outputDirectory + relPath, content, { encoding: 'utf-8' });
});

opt.on('document', function(relPath, content) {
	//console.log('document %s\n%s', relPath, content);
	fs.writeFileSync(path.resolve(opt.options.outputDirectory, relPath), content, { encoding: 'utf-8' });
});

opt.optimize('index.html');